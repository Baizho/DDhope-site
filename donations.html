<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Садакат - Пожертвования</title>
    <link rel="icon" type="image/x-icon" href="Logo.ico" />
    <link rel="stylesheet" href="styles.css" />
    <!-- Tailwind CSS via CDN -->
    <link
      href="https://cdn.jsdelivr.net/npm/tailwindcss@3.3.1/dist/tailwind.min.css"
      rel="stylesheet"
    />
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Firebase App (the core Firebase SDK) -->
    <script src="https://www.gstatic.com/firebasejs/9.1.0/firebase-app.js"></script>
    <!-- Firebase Authentication -->
    <script src="https://www.gstatic.com/firebasejs/9.1.0/firebase-auth.js"></script>
    <!-- Firebase Storage -->
    <script src="https://www.gstatic.com/firebasejs/9.1.0/firebase-storage.js"></script>
  </head>
  <body class="body-donations">
    <header class="donations-header">
      <div class="flex flex-col justify-center items-center">
        <div class="flex h-full items-center justify-center" style="gap: 20px">
          <a href="#" onclick="navigateToHome()" class="h-28"
            ><img src="./images/DDhope.jpg" alt="Logo" class="h-full w-30"
          /></a>
          <p class="font-semibold">DONATION PLATFORM BY DDhope</p>
        </div>
        <div class="text-2xl md:text-2xl lg:text-3xl xl:text-4xl p-6 sansfont">
          Кому вы можете помочь?
        </div>
      </div>
    </header>

    <div class="auth-container" id="auth-container">
      <div class="auth-forms">
        <div class="register-form" id="register-form-container">
          <h2>Регистрация</h2>
          <form id="registration-form">
            <label for="register-email">Email:</label>
            <input
              type="email"
              id="register-email"
              name="register-email"
              class="text-black"
              required
            />
            <label for="register-password">Пароль:</label>
            <input
              type="password"
              id="register-password"
              name="register-password"
              required
              class="text-black"
            />
            <button type="submit">Зарегистрироваться</button>
            <p style="color: white">
              Уже есть аккаунт? <a href="#" onclick="showLoginForm()">Войти</a>
            </p>
          </form>
        </div>

        <div class="login-form" id="login-form-container" style="display: none">
          <h2>Вход</h2>
          <form id="login-form">
            <label for="login-email">Email:</label>
            <input
              type="email"
              id="login-email"
              name="login-email"
              class="text-black"
              required
            />
            <label for="login-password">Пароль:</label>
            <input
              type="password"
              id="login-password"
              name="login-password"
              class="text-black"
              required
            />
            <button type="submit">Войти</button>
            <p>
              Нет аккаунта?
              <a href="#" onclick="showRegisterForm()">Зарегистрироваться</a>
            </p>
          </form>
        </div>
      </div>
    </div>

    <div class="flex flex-col lg:flex-row">
      <aside class="w-full lg:w-1/4 p-4 sticky top-0 bg-[#1d3557]">
        <h2 class="text-lg font-semibold mb-4" style="color: #ddcaaa">
          Фильтр публикаций
        </h2>
        <ul class="list-none p-0">
          <li class="mb-2.5">
            <button
              onclick="filterPosts('all')"
              class="w-full py-2 px-4 text-start text-base text-white rounded-md cursor-pointer transition-colors duration-300 ease-in-out"
              style="background-color: #457b9d"
              onmouseover="this.style.backgroundColor='#1d3557'"
              onmouseout="this.style.backgroundColor='#457b9d'"
            >
              Все публикации
            </button>
          </li>

          <li class="mb-2.5">
            <button
              onclick="filterPosts('medical')"
              class="w-full py-2 px-4 text-start text-base text-white rounded-md cursor-pointer transition-colors duration-300 ease-in-out"
              style="background-color: #457b9d"
              onmouseover="this.style.backgroundColor='#1d3557'"
              onmouseout="this.style.backgroundColor='#457b9d'"
            >
              Медицинская помощь
            </button>
          </li>
          <li class="mb-2.5">
            <button
              onclick="filterPosts('animal')"
              class="w-full py-2 px-4 text-start text-base text-white rounded-md cursor-pointer transition-colors duration-300 ease-in-out"
              style="background-color: #457b9d"
              onmouseover="this.style.backgroundColor='#1d3557'"
              onmouseout="this.style.backgroundColor='#457b9d'"
            >
              Поддержка животных
            </button>
          </li>
          <li class="mb-2.5">
            <button
              onclick="filterPosts('housing')"
              class="w-full py-2 px-4 text-start text-base text-white rounded-md cursor-pointer transition-colors duration-300 ease-in-out"
              style="background-color: #457b9d"
              onmouseover="this.style.backgroundColor='#1d3557'"
              onmouseout="this.style.backgroundColor='#457b9d'"
            >
              Помощь с жильем
            </button>
          </li>
          <li class="mb-2.5">
            <button
              onclick="filterPosts('disaster')"
              class="w-full py-2 px-4 text-start text-base text-white rounded-md cursor-pointer transition-colors duration-300 ease-in-out"
              style="background-color: #457b9d"
              onmouseover="this.style.backgroundColor='#1d3557'"
              onmouseout="this.style.backgroundColor='#457b9d'"
            >
              Стихийные бедствия
            </button>
          </li>
          <li class="mb-2.5">
            <button
              onclick="filterPosts('palestine')"
              class="w-full py-2 px-4 text-start text-base text-white rounded-md cursor-pointer transition-colors duration-300 ease-in-out"
              style="background-color: #457b9d"
              onmouseover="this.style.backgroundColor='#1d3557'"
              onmouseout="this.style.backgroundColor='#457b9d'"
            >
              Поддержка Палестины
            </button>
          </li>
          <li class="mb-2.5">
            <button
              onclick="filterPosts('oneclick')"
              class="w-full py-2 px-4 text-start text-base text-white rounded-md cursor-pointer transition-colors duration-300 ease-in-out"
              style="background-color: #457b9d"
              onmouseover="this.style.backgroundColor='#1d3557'"
              onmouseout="this.style.backgroundColor='#457b9d'"
            >
              Помощь в один клик
            </button>
          </li>
          <li class="mb-2.5">
            <button
              onclick="generateRandomPost()"
              class="w-full py-2 px-4 text-start text-base text-white rounded-md cursor-pointer transition-colors duration-300 ease-in-out"
              style="background-color: #457b9d"
              onmouseover="this.style.backgroundColor='#1d3557'"
              onmouseout="this.style.backgroundColor='#457b9d'"
            >
              Случайная публикация
            </button>
          </li>
        </ul>
      </aside>

      <div class="w-full lg:w-3/4 p-4">
        <h5 class="text-xl font-medium mb-4" id="count-posts"></h5>
        <section
          class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 gap-6"
          id="donation-posts"
        >
          <!-- Dynamic posts will be injected here by JavaScript -->
        </section>
      </div>
    </div>

    <div class="info-card" id="info-card" style="display: none">
      <div class="info-card-content">
        <span class="close-btn" onclick="closeInfoCard()">&times;</span>
        <h2>Спасибо за вашу публикацию!</h2>
        <p>
          Ваша публикация была успешно отправлена и теперь доступна для
          просмотра.
        </p>
        <button class="close-button" onclick="closeInfoCard()">Закрыть</button>
      </div>
    </div>

    <div class="post-detail" id="post-detail" style="display: none">
      <div class="post-detail-content">
        <span class="close-btn" onclick="closePostDetail()">&times;</span>
        <div id="post-content"></div>
        <h3>Заполните форму для получения дополнительной информации:</h3>
        <form id="detail-form">
          <label for="name">Имя:</label>
          <input type="text" id="name" name="name" required />
          <label for="email">Email:</label>
          <input type="email" id="email" name="email" required />
          <label for="transaction">Детали транзакции:</label>
          <textarea id="transaction" name="transaction" required></textarea>
          <label for="file">Прикрепить файл (PDF):</label>
          <input
            type="file"
            id="file"
            name="file"
            accept="application/pdf"
            required
          />
          <button type="submit">Отправить</button>
        </form>
      </div>
    </div>
    <script type="module" src="firebase.js"></script>
    <script type="module" src="script.js"></script>
    <script src="script1.js"></script>
    <script>
      function navigateToHome() {
        window.location.href = "index.html";
      }
    </script>
  </body>
</html>
